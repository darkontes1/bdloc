{% extends 'base.html.twig' %}
{% block body %}
<h1>catalogue</h1>

    {% block aside %}
    <aside>tri</aside>
    {% endblock %}

    {% for book in books %}
        
        <article class="apercu">
        <img class="cover" src="{{asset('images/Couvertures/'~book.cover)}}" alt="cover">

        <h5>{{book.title}}</h5>

        {% if not book.dessinateur == NULL %}

            
            {{book.dessinateur.prenom}}
            {{book.dessinateur.nom}}</br>
        
        {%endif%}
        {% if not book.coloriste == NULL %}
            
            
            {{book.coloriste.prenom}}
            {{book.coloriste.nom}}</br>

        {%endif%}
        
        {% if not book.scenariste == NULL %}
            
            {{book.scenariste.prenom}}
            {{book.scenariste.nom}}</br>

        {%endif%}

        {% if book.exemplaires > 0 %}
            <div class="dispo" value=" {{book.exemplaires}} ">{{book.exemplaires}}{{" dispos !"}}</br>
            <button data-bdid="{{path("ajoutPanier",{id:book.id})}}" class="ajoutPanier">ajouter au panier</button>
        {%endif%}

        {% if book.exemplaires == 0 %}
        {{"indisponible !"}}</br>

        {%endif%}


            



        <!-- Bouton pour activer modal -->
        <button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModal-{{book.id}}">
          Plus de d√©tails
        </button>

            <!-- Modal -->
            <div class="modal fade" id="myModal-{{book.id}}" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
              <div class="modal-dialog">
                <div class="modal-content">
                  <div class="modal-header">
                    <h2 class="modal-title" id="myModalLabel">{{ book.title }}</h2>
                  </div>
                  <div class="modal-body">
                    <article>
                    <img class="cover" src="{{asset('images/Couvertures/'~book.cover)}}" alt="cover">

                        {{book.serie.title}}
                        {{book.serie.style}}
                        {{book.serie.langue}}
                        {% if not book.dessinateur == NULL %}

                            <h4>{{"autheur : "}}{{book.dessinateur.prenom}}
                                            {{book.dessinateur.nom}}</h4></br>
                
                        {%endif%}
                    {% if not book.coloriste == NULL %}
                        {{"coloriste : "}}{{book.coloriste.prenom}}</br>
                                            {{book.coloriste.nom}}</br>

                                            {%endif%}
                    {% if not book.scenariste == NULL %}
                        {{"scenariste : "}}{{book.scenariste.prenom}}</br>
                                            {{book.scenariste.nom}}</br>

                                            {%endif%}

                    {% if book.exemplaires > 0 %}
                        {{book.exemplaires}}{{" dispos !"}}</br>
                    {%endif%}

                    {% if book.exemplaires == 0 %}
                    {{"indisponible !"}}</br>

                    {%endif%}

                            </article>
                          </div>
                          <div class="modal-footer">
                          </div>
                        </div>
                      </div>
                    </div>


        </article>


        {% endfor %}



{% endblock %}


{% block javascripts %}

    {{parent()}}

    <script type="text/javascript">
    $('#myModal').on('shown.bs.modal', function () {
        $('#myInput').focus()
    });

    </script>

{% endblock %}
